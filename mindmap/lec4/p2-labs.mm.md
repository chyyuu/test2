### 第二节: 实践：多道程序与分时多任务操作系统
- 实验目标和步骤
  - 实验目标
    - MultiprogOS: 提高多个应用的总体性能和效率
    - BatchOS: 让APP与OS隔离，提高安全性和效率
    - LibOS: 让应用与硬件隔离，简化访问硬件的复杂性
  - 实验要求
    - 理解协作式调度和抢占式调度
    - 理解任务和任务切换
    - 能写多道程序操作系统和分时多任务操作系统
  - 实践步骤
    - 编译应用程序和内核为一个镜像
    - 修改APP链接脚本定制起始地址
    - 加载执行应用与切换任务
- 多道批处理操作系统设计
  - 软件架构
    - 应用程序独立编译合并至OS镜像
    - 完善任务管理功能
  - 代码结构
    - 构建应用
    - 改进OS支持任务切换
- 应用程序设计
  - 项目结构
    - 包含编号的应用程序
  - 内存布局
    - 使用build.py工具定制链接脚本
  - yield系统调用
    - 让应用主动放弃处理器
- LibOS：支持应用程序加载
  - 多道程序加载
    - 将应用加载到不同的物理地址
  - 执行程序
    - 内核态到用户态的切换
- BatchOS：支持多道程序协作调度
  - 任务控制块
    - 管理任务运行所需信息
  - 协作式调度
    - sys_yield和sys_exit系统调用
  - 任务切换
    - 暂停一个应用执行过程并继续另一应用
- MultiprogOS：分时多任务OS
  - 基本思路
    - 设置时钟中断和统计时间片
    - 抢占式调度
  - 时钟中断与计时器
    - 设置和处理时钟中断
  - 抢占式调度实现
    - 通过时钟中断进行任务切换
